<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Akilarの糖果屋</title>
  
  <subtitle>Akilar.top</subtitle>
  <link href="https://akilar.top/atom.xml" rel="self"/>
  
  <link href="https://akilar.top/"/>
  <updated>2021-03-02T13:52:46.000Z</updated>
  <id>https://akilar.top/</id>
  
  <author>
    <name>Akilar</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>（二创）Copyright-beautify</title>
    <link href="https://akilar.top/posts/8322f8e6/"/>
    <id>https://akilar.top/posts/8322f8e6/</id>
    <published>2021-03-02T13:52:46.000Z</published>
    <updated>2021-03-02T13:52:46.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info flat"><p>本帖内容基本全部来自于Nesxc的原帖，仅针对两处地方做了微调,将魔改范围局限于两个文件内部。将外链<code>CSS</code>的引入过程也加入到<code>styl</code>文件中，针对存在偏移隐患的表格宽度做了自适应适配。同时增加两个变量，以配合<code>Butterfly</code>的原生主题配置中的<code>license</code>和<code>license_url</code>配置项。添加了一些阴影效果增加质感。</p></div><h1 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h1><div class="tip cogs faa-horizontal animated"><p><strong>由于本教程涉及的所有修改对缩进格式等有严格要求，担心自己控制不好的可以直接下载静态资源。参照教程进行修改。</strong></p></div><div class="btns rounded center">            <a class="button" href='https://wws.lanzous.com/iJrQImdbwzi' title='下载资源文件'><i class='fas fa-download'></i>下载资源文件</a>          </div><h1 id="修改步骤"><a href="#修改步骤" class="headerlink" title="修改步骤"></a>修改步骤</h1><ol><li>修改<code>[Blogroot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>,直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的<code>front-matter</code>中重新定义作者，原文链接，开源许可协议等内容。<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !&#x3D;&#x3D; false</span><br><span class="line">  - let author &#x3D; page.copyright_author ? page.copyright_author : config.author</span><br><span class="line">  - let url &#x3D; page.copyright_url ? page.copyright_url : page.permalink</span><br><span class="line">  - let license &#x3D; page.license ? page.license : theme.post_copyright.license</span><br><span class="line">  - let license_url &#x3D; page.license_url ? page.license_url : theme.post_copyright.license_url</span><br><span class="line">  .post-copyright</span><br><span class="line">    .post-copyright__title</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        h #[&#x3D;page.title]</span><br><span class="line">    .post-copyright__type</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        a(href&#x3D;url_for(url))&#x3D; theme.post_copyright.decode ? decodeURI(url) : url</span><br><span class="line">    .post-copyright-m</span><br><span class="line">      .post-copyright-m-info</span><br><span class="line">        .post-copyright-a</span><br><span class="line">            h 作者</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h&#x3D;author</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 发布于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h&#x3D;date(page.date, config.date_format)</span><br><span class="line">        .post-copyright-u</span><br><span class="line">            h 更新于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h&#x3D;date(page.updated, config.date_format)</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 许可协议</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                a.icon(rel&#x3D;&#39;noopener&#39; target&#x3D;&#39;_blank&#39; title&#x3D;&#39;Creative Commons&#39; href&#x3D;&#39;https:&#x2F;&#x2F;creativecommons.org&#x2F;&#39;)</span><br><span class="line">                  i.fab.fa-creative-commons</span><br><span class="line">                a(rel&#x3D;&#39;noopener&#39; target&#x3D;&#39;_blank&#39; title&#x3D;license href&#x3D;url_for(license_url))&#x3D;license</span><br></pre></td></tr></table></figure></li><li>修改<code>[Blogroot]\themes\butterfly\source\css\_layout\post.styl</code>,直接复制以下内容，替换原文件。<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  headStyle(fontsize)</span><br><span class="line">    padding-left: unit(fontsize + .4, &#x27;rem&#x27;)</span><br><span class="line"></span><br><span class="line">    code</span><br><span class="line">      <span class="attribute">font-size</span>: unit(fontsize, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      margin-left: unit((-(fontsize + .2)), &#x27;rem&#x27;)</span><br><span class="line">      <span class="attribute">font-size</span>: unit(fontsize, <span class="string">&#x27;rem&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      padding-left: unit(fontsize + .6, &#x27;rem&#x27;)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  h6</span><br><span class="line">    transition: all .2s ease-out</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      top: calc(50% - .35rem)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      transition: all .2s ease-out</span><br><span class="line">      @extend .fontawesomeIcon</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      &amp;:before</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  h1</span><br><span class="line">    headStyle(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  h2</span><br><span class="line">    headStyle(.<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">  h3</span><br><span class="line">    headStyle(.<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">  h4</span><br><span class="line">    headStyle(.<span class="number">7</span>)</span><br><span class="line"></span><br><span class="line">  h5</span><br><span class="line">    headStyle(.<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">  h6</span><br><span class="line">    headStyle(.<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  ul</span><br><span class="line">    margin-top: .4rem</span><br><span class="line">    padding: 0 0 0 .8rem</span><br><span class="line">    <span class="attribute">list-style</span>: none</span><br><span class="line">    <span class="attribute">counter-reset</span>: li</span><br><span class="line"></span><br><span class="line">    +maxWidth768()</span><br><span class="line">      padding: 0 0 0 .4rem</span><br><span class="line"></span><br><span class="line">    p</span><br><span class="line">      margin: 0 0 .5rem</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    ul</span><br><span class="line">      padding-left: .6rem</span><br><span class="line"></span><br><span class="line">      +maxWidth768()</span><br><span class="line">        padding-left: .2rem</span><br><span class="line"></span><br><span class="line">    li</span><br><span class="line">      &amp;:not(.tab)</span><br><span class="line">        <span class="attribute">position</span>: relative</span><br><span class="line">        margin: .2rem 0</span><br><span class="line"></span><br><span class="line">      &amp;:hover</span><br><span class="line">        &amp;:before</span><br><span class="line">          <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$white</span></span><br><span class="line">        <span class="attribute">cursor</span>: pointer</span><br><span class="line">        transition: all .3s ease-out</span><br><span class="line"></span><br><span class="line">  ol</span><br><span class="line">    &gt; li</span><br><span class="line">      &amp;:not(.tab)</span><br><span class="line">        padding: .2em .2em .2em 1.8em</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        margin-top: .65em</span><br><span class="line">        <span class="attribute">width</span>: w = <span class="number">1.45em</span></span><br><span class="line">        <span class="attribute">height</span>: h = w</span><br><span class="line">        border-radius: .5 * w</span><br><span class="line">        <span class="attribute">content</span>: counter(li)</span><br><span class="line">        <span class="attribute">counter-increment</span>: li</span><br><span class="line">        <span class="attribute">text-align</span>: center</span><br><span class="line">        font-size: .85em</span><br><span class="line">        <span class="attribute">line-height</span>: h</span><br><span class="line"></span><br><span class="line">  ul</span><br><span class="line">    &gt; <span class="selector-tag">li</span>:not(.tab)</span><br><span class="line">      padding: .2em .2em .2em 1.4em</span><br><span class="line"></span><br><span class="line">      &amp;:hover</span><br><span class="line">        &amp;:before</span><br><span class="line">          <span class="attribute">border-color</span>: <span class="variable">$pseudo</span>-hover</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        <span class="variable">$w</span> = .<span class="number">42em</span></span><br><span class="line">        top: .78em</span><br><span class="line">        <span class="attribute">width</span>: w = <span class="variable">$w</span></span><br><span class="line">        <span class="attribute">height</span>: h = w</span><br><span class="line">        border: .5 * w solid $light-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: w</span><br><span class="line">        <span class="attribute">background</span>: transparent</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="attribute">line-height</span>: h</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">no-beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  ul</span><br><span class="line">    margin-top: .4rem</span><br><span class="line"></span><br><span class="line">    p</span><br><span class="line">      margin: 0 0 .5rem</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    ul</span><br><span class="line">      padding-left: .5rem</span><br><span class="line"></span><br><span class="line">    li</span><br><span class="line">      <span class="attribute">position</span>: relative</span><br><span class="line">      margin: .3rem 0</span><br><span class="line">      padding-left: .3rem</span><br><span class="line"></span><br><span class="line">#article-container</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  a</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  img</span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    margin: 0 auto .8rem</span><br><span class="line"></span><br><span class="line">  p</span><br><span class="line">    margin: 0 0 .8rem</span><br><span class="line"></span><br><span class="line">  iframe</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> hexo-config(<span class="string">&#x27;beautify.enable&#x27;</span>) &amp;&amp; hexo-config(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">    beautify()</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> hexo-config(<span class="string">&#x27;beautify.enable&#x27;</span>) &amp;&amp; hexo-config(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">    no-beautify()</span><br><span class="line"></span><br><span class="line">    &amp;.post-<span class="attribute">content</span></span><br><span class="line">      beautify()</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    no-beautify()</span><br><span class="line"></span><br><span class="line">#post</span><br><span class="line">  .tag_share</span><br><span class="line">    .post-meta</span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        margin: .4rem .4rem .4rem 0</span><br><span class="line">        padding: 0 .6rem</span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        border-radius: .6rem</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        font-size: .85em</span><br><span class="line">        transition: all .2s ease-in-out</span><br><span class="line"></span><br><span class="line">        &amp;:hover</span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: var(--white)</span><br><span class="line"></span><br><span class="line">    .post_share</span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      margin: .4rem 0</span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      .social-share</span><br><span class="line">        font-size: .85em</span><br><span class="line"></span><br><span class="line">        .social-share-<span class="attribute">icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  .post-copyright</span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    margin: 2rem 0 .5rem</span><br><span class="line">    padding: .5rem .8rem</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid var(--light-grey)</span><br><span class="line">    transition: box-shadow .3s ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>!important</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">239</span> <span class="number">241</span> <span class="number">243</span>)</span><br><span class="line"></span><br><span class="line">    &amp;:before</span><br><span class="line">      <span class="attribute">background</span> var(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      opacity .2</span><br><span class="line"></span><br><span class="line">    &amp;:hover</span><br><span class="line">      box-shadow: 0 0 8px 0 rgba(232, 237, 250, .6), 0 2px 4px 0 rgba(232, 237, 250, .5)</span><br><span class="line"></span><br><span class="line">    .post-copyright</span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        padding-left: .3rem</span><br><span class="line"></span><br><span class="line">        a</span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          &amp;:hover</span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  .post-copyright-cc-info</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  .post-outdate-notice</span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span></span><br><span class="line">    padding: .5em 1.2em</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> hexo-config(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      padding: .5em 1em .5em 2.6em</span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      &amp;:before</span><br><span class="line">        @extend .fontawesomeIcon</span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        left: .9em</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  .ads-wrap</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2rem</span> <span class="number">0</span></span><br><span class="line">.post-copyright-m-info</span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  .post-copyright-u</span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line">[data-theme=<span class="string">&quot;dark&quot;</span>]</span><br><span class="line">  #post</span><br><span class="line">    .post-copyright</span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid rgb(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  .post-copyright-info</span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line">#post</span><br><span class="line">  .post-copyright__title</span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  .post-copyright__notice</span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  .post-copyright</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"></span><br><span class="line">@keyframes flashlight</span><br><span class="line">  from</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">  to</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br></pre></td></tr></table></figure></li><li>默认项的配置<ul><li>作者：<code>[Blogroot]\_config.yml</code>中的<code>author</code>配置项<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Akilarの糖果屋</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">Akilar.top</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Akilar</span> <span class="comment">#默认作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li>许可协议：<code>[Blogroot]\_config.butterfly.yml</code>中的<code>license</code>和<code>license_url</code>配置项<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure></li></ul></li><li>页面覆写配置项，修改对应文章的<code>front-matter</code>,<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Copyright-beautify # 文章名称</span><br><span class="line">date: 2021-03-02 13:52:46 # 文章发布日期</span><br><span class="line">updated: 2021-03-02 13:52:46 # 文章更新日期</span><br><span class="line">copyright<span class="emphasis">_author: Nesxc # 作者覆写</span></span><br><span class="line"><span class="emphasis">copyright_</span>url: https://www.nesxc.com/post/hexocc.html # 原文链接覆写</span><br><span class="line">license: # 许可协议名称覆写</span><br><span class="line">license<span class="emphasis">_url: # 许可协议链接覆写</span></span><br><span class="line"><span class="emphasis">---</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">转载自Nesxc的Butterfly版权美化教程，精简了外链CSS的引入，新增了两个变量默认值。</summary>
    
    
    
    <category term="🍡Akilarの糖葫芦" scheme="https://akilar.top/categories/%F0%9F%8D%A1Akilar%E3%81%AE%E7%B3%96%E8%91%AB%E8%8A%A6/"/>
    
    
    <category term="📁Hexo" scheme="https://akilar.top/tags/%F0%9F%93%81Hexo/"/>
    
    <category term="🦋Butterfly" scheme="https://akilar.top/tags/%F0%9F%A6%8BButterfly/"/>
    
  </entry>
  
  <entry>
    <title>微小说:有燕归来</title>
    <link href="https://akilar.top/posts/ffa39dbd/"/>
    <id>https://akilar.top/posts/ffa39dbd/</id>
    <published>2021-03-01T14:28:39.000Z</published>
    <updated>2021-03-01T14:28:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>“小娃儿，吃糖吗？”————</p><p>没有一堆流鼻涕的小孩围着的时候，老黄总会叫住我，伸出还算干净的手，上头永远都会有一颗糖，有时候是牛皮糖，有时候是奶糖，不过千万不能是巧克力，被老黄捂在手里，很快就化的软塌塌的，一点也没了味道。</p><p>老黄已经很老了。也可能是我们把他叫老了。作为俺们村子的“守村人”，老黄平时憨憨的，也不知道他到底多大年纪，至少从外貌上看起来，一个爷爷辈还是当得起的。</p><p>就算是村里头光屁股的小鬼，偶尔从老黄那座夯土棚子走过的时候，也知道冲着老黄露一个大大的笑脸，要是有不懂事的小毛孩子觉得他好欺负，上去捉弄老黄，倒是不用担心老黄会冲他们发脾气，但是千万不能让自家爹妈看见，否则，没得什么话好说，晚饭一顿竹板炒肉，少不了。</p><p>被揍的多了，久而久之，除了我，也就没有小孩肯和老黄玩了。</p><p>那时候我正巧在学自行车，正是玩心最大的年纪。“小娃儿”，看上去憨憨傻傻的老黄远远地叫住了我，也不多说啥，看到他双手捂着的模样，我就知道是怎么一回事了。</p><p>“老黄，干啥呢，我已经是大孩子了，哪还能要你的糖吃”，我一个急刹停到老黄跟前，说完还咧嘴指指正在努力冒头的门牙，表示自己已经和那些奶娃不一样了。</p><p>“小娃儿你跑的快”，老黄腆着脸笑笑，摊开紧紧捂着的双手，脸上的皱纹深深的，一层又一层，活像一朵就要凋谢的菊花，“能不能帮我去买点东西？”。这时我才注意到，老黄手里捂着的不是啥糖果，是张比他脸还要皱的钞票。</p><p>“嗨，我当多大点事呢”，我一把夺过老黄手里的钞票，“啥东西啊，我这就帮你去买”，离镇子的药铺子也就3公里多一点，小事情，咱可是有自行车的人了。摊开钞票，是张二十，皱皱巴巴的，拿手上才发现中间还贴着个透明胶带，是那种被人撕破又补上的旧钱。我撇撇嘴，也不知道药铺子的老掌柜肯不肯收。</p><p>“就这个方子就行”，老黄不紧不慢的摸摸上衣口袋，给我一张硬卡纸，香烟盒子的包装纸倒是还算结实，上面用圆珠笔写的字迹还很清晰，幸好，没和那张二十大钞一样皱皱巴巴。</p><p>“等着啊，我这就回来”。跨上自行车一骑绝尘的我，这背影落到满脸憨厚的老黄眼里，怕是不亚于一位小将军。</p><p>当我从板着脸的老掌柜手里接过药盒，前后不过5分钟的样子。正要急匆匆的往外走，得让老黄见识见识我的速度。哪晓得老掌柜又叫住我，“小娃儿，还有找的10块钱，收好”，讪讪的回身收下崭新的10块钱，实在是不敢回头再看老掌柜的脸。</p><p>“收好啊，别掉了！”身后又传来老掌柜不依不饶的提醒。</p><p>“知道啦”，丢人丢大的我哪还有心情管老掌柜说的啥。</p><p>还成，老黄就蹲在村口老樟树下，没被人撵跑。“老黄，收好，你要的药”。我递上药盒。</p><p>“好好好，小娃儿啊，这次没带糖，下次再给你啊”，老黄接了药盒，欢天喜地的往家走。</p><p>“等会，还有找你的10块钱”，我连忙叫住老黄，摸摸屁股口袋，却愣是没摸到，“坏了，丢了”。</p><p>“不打紧，不打紧”，老黄一脸疑惑，像是惊讶于居然还能有10块钱，只是落到我眼里，老黄这逆来顺受的样子看着实在让人心疼。</p><p>“等着，我这就回去找”。我又一次骑着自行车离去，只是这一次的背影，像个逃兵。</p><p>我到底还是没找到那张10块钱，可能被风吹走了，可能被人捡走了。我也没脸再去拿老黄手里的糖。每次远远的看到老黄，就急匆匆跑回了家里。和其他孩子一样。每次也能看到老黄讪讪的搓搓手，就是不知道，这次的老黄手里，还有没有糖。</p><p>多年以后，已经是大孩子的我路过老黄那座已经垮塌的屋棚，仿佛还能听到老黄的声音。</p><p>————“小娃儿，吃糖不？”</p><details red><summary> 后记 </summary>              <div class='content'>              <p>这个故事的原型源自我的亲身经历，当时就是去隔壁村子药铺帮村里的一个阿婆买药，回来时丢了找的10块钱，然后屁颠屁颠的折返回去找，不过当时是确实找回来了。这事一直到阿婆离世时，老妈在电话了跟我提了一句，“这个阿婆就是当初让你买药，然后你丢了钱又找回来给她的那个”。没来由的就想着应该写点什么东西。</p><p>故事的整体基调定位为悲剧，就是不知读者能不能读出那么一点值得发人深省的东西了。</p>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;“小娃儿，吃糖吗？”————&lt;/p&gt;
&lt;p&gt;没有一堆流鼻涕的小孩围着的时候，老黄总会叫住我，伸出还算干净的手，上头永远都会有一颗糖，有时候是牛皮糖，有时候是奶糖，不过千万不能是巧克力，被老黄捂在手里，很快就化的软塌塌的，一点也没了味道。&lt;/p&gt;
&lt;p&gt;老黄已经很老了。也可能</summary>
      
    
    
    
    <category term="🍰Akilarの太妃糖" scheme="https://akilar.top/categories/%F0%9F%8D%B0Akilar%E3%81%AE%E5%A4%AA%E5%A6%83%E7%B3%96/"/>
    
    
    <category term="📝微小说" scheme="https://akilar.top/tags/%F0%9F%93%9D%E5%BE%AE%E5%B0%8F%E8%AF%B4/"/>
    
  </entry>
  
  <entry>
    <title>Flielocator pro</title>
    <link href="https://akilar.top/posts/21945e79/"/>
    <id>https://akilar.top/posts/21945e79/</id>
    <published>2021-03-01T13:07:20.000Z</published>
    <updated>2021-03-01T13:07:20.000Z</updated>
    
    <content type="html"><![CDATA[<details cyan><summary> 无聊的碎碎念不看也罢 </summary>              <div class='content'>              <p>因为工作上的诉求，需要查询WORD,PDF等文件中的具体内容。考虑到写博客时的体验，尝试了一下用Atom来打开word文件，结果当然是以失败告终。之前按照超哥的推荐使用了一下<a href="http://docfetcher.sourceforge.net/en/index.html">docfetcher</a>,使用体验谈不上有多好，在求助了万能的百度贴吧，吾爱论坛，知乎以后，几经周折，找到了一款叫<a href="https://www.mythicsoft.com/filelocatorpro/">FileLocate</a>,功能基本满足了日常使用需要，虽然和理想的博客式文件树管理尚有出入，但是毕竟文件类型不兼容，凑活着用吧。</p>              </div>            </details><h1 id="软件安装"><a href="#软件安装" class="headerlink" title="软件安装"></a>软件安装</h1><div class="tip cogs faa-horizontal animated"><p><strong>下载压缩包，解压后直接安装，按照压缩包内安装教程进行破解，获取完整功能。</strong></p></div><div class="btns rounded center">            <a class="button" href='https://wws.lanzous.com/iSvo5mr201c' title='下载资源文件'><i class='fas fa-download'></i>下载资源文件</a>          </div><h1 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h1><ol><li>根据下载的资源包内的安装教程完成软件安装，汉化，和完整功能破解。</li><li>打开软件，首先单击左上角的<kbd>文本</kbd>-&gt;<kbd>新建</kbd>-&gt;<kbd>空白搜索</kbd>，新建一个空白搜索页面。</li></ol><h1 id="基本搜索"><a href="#基本搜索" class="headerlink" title="基本搜索"></a>基本搜索</h1><ol><li><p><code>FlieLocator Pro</code>自带一个<kbd>搜索向导</kbd>，加上它相当完整的中文语言包支持，在基本搜索的使用上应该没有什么难度，只需要按照<code>搜索向导</code>的指示，输入相应的搜索内容，并界定条件，如果不是很清楚通配符的用法，<code>搜索向导</code>里也有较为详细的语法提示。<br><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Flielocator-pro-7b92ad14.png" alt=""></p></li><li><p><code>FlieLocator Pro</code>默认是使用2个线程进行搜索，若是对这个搜索速度不满意，也可以在左上方的菜单栏中选择<kbd>工具</kbd>-&gt;<kbd>配置</kbd>-&gt;<kbd>高级</kbd>-&gt;<kbd>线程/优先级</kbd>，在GUI界面中选择相应的线程内容设置自定义线程数<br><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Flielocator-pro-7f08f199.png" alt=""></p><div class="note warning flat"><p>线程并不是越多越好，而且考虑到计算机本身的性能，即使设置了99线程，速度也未必会比2线程更快。在大多数情况下，它就单纯只能起到一个心理安慰的作用。</p></div></li></ol><h1 id="专家搜索"><a href="#专家搜索" class="headerlink" title="专家搜索"></a>专家搜索</h1><p>软件右上角有搜索模式选择，选择专家模式，会在基本搜索基础上添加更多选项，可以通过相应的配置项，精准界定文件的类型，修改时间，创建时间，但是相对的，专家模式没有内置的搜索向导，若是想要使用脚本搜索，需要一定的语法功底。<br><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Flielocator-pro-a9105e1e.png" alt=""></p><h2 id="索引搜索"><a href="#索引搜索" class="headerlink" title="索引搜索"></a>索引搜索</h2><ol><li>相比起基本搜索和专家搜索，索引搜索需要率先构建索引，然后在需要用到的时候顺着索引来查询内容，一开始构建索引需要耗费一定时间，但是之后的搜索就会非常快速。</li><li>首先需要创建一个新索引，<br><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Flielocator-pro-0d00e809.png" alt=""></li><li>之后在GUI界面中设置具体选项，注意，此时并不是在执行搜索，只是在构建索引，目的是为了之后需要搜索时，不再是从头开始搜索，而是根据索引去查找，若是要做比较的话，基本搜索是从头到尾彻查，专家搜索是划定范围彻查，而索引搜索可以比作是顺着字典目录去查字。速度自然更快。<br><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Flielocator-pro-7c1c9a86.png" alt=""><div class="note warning flat"><p>索引有时会将WORD中的图片上的内容，或是非文本的PDF文件纳入，但是在预览中因为显示的是纯文本，所以看不到相应内容的文本预览。同时也会导致搜索内容中存在较多干扰项。可以考虑用它界定范围后再使用专家模式精确搜索。</p></div></li></ol><h2 id="优缺点总结"><a href="#优缺点总结" class="headerlink" title="优缺点总结"></a>优缺点总结</h2><div class="table-container"><table><thead><tr><th style="text-align:left"></th><th style="text-align:left">基本搜索</th><th style="text-align:left">专家搜索</th><th style="text-align:left">索引搜索</th></tr></thead><tbody><tr><td style="text-align:left">优点</td><td style="text-align:left">准确度高</td><td style="text-align:left">准确度高，范围选择更丰富，界定范围后能比基本搜索更快速的完成搜索</td><td style="text-align:left">速度极快</td></tr><tr><td style="text-align:left">缺点</td><td style="text-align:left">速度较慢，若是大量文件，可能需要较长检索时间</td><td style="text-align:left">操作较难，但大部分功能还是可以通过GUI界面直接调整的</td><td style="text-align:left">准确度堪忧，部分文件没有办法构建索引也会被算成默认匹配，索引文件需要定期更新，确保与本地保持相对一致</td></tr></tbody></table></div>]]></content>
    
    
    <summary type="html">Filelocator是一款本地文件管理软件，能够方便快捷的查询文件内容。</summary>
    
    
    
    <category term="🍡Akilarの糖葫芦" scheme="https://akilar.top/categories/%F0%9F%8D%A1Akilar%E3%81%AE%E7%B3%96%E8%91%AB%E8%8A%A6/"/>
    
    
    <category term="🍨Win10" scheme="https://akilar.top/tags/%F0%9F%8D%A8Win10/"/>
    
  </entry>
  
  <entry>
    <title>Friend link subscription</title>
    <link href="https://akilar.top/posts/8480b91c/"/>
    <id>https://akilar.top/posts/8480b91c/</id>
    <published>2021-02-12T23:28:21.000Z</published>
    <updated>2021-02-13T00:13:21.000Z</updated>
    
    <content type="html"><![CDATA[<details cyan><summary> 点击查看更新记录 </summary>              <div class='content'>              <div class="timeline"><p class='p h2'>更新记录</p><div class="timenode"><div class="meta"><p><p>2021-02-12:内测版v0.1</p></p></div><div class="body"><ol><li>应援冰老师的友链朋友圈项目，提供Hexo的插件化魔改方案；</li><li>按照惯有思路，将API路径的配置添加到配置文件中。</li><li>在页面配置中使用<code>type: fcircle</code>来实现加载友链朋友圈页面。</li><li>适配样式UI，使得友链朋友圈文章样式同时间轴样式。</li><li>适配pjax。</li></ol></div></div></div>              </div>            </details><details yellow><summary> 点击查看参考教程 </summary>              <div class='content'>              <div class="table-container"><table><thead><tr><th style="text-align:left">参考方向</th><th style="text-align:left">教程原贴</th></tr></thead><tbody><tr><td style="text-align:left">冰老师的友链朋友圈项目</td><td style="text-align:left"><a href="https://zfe.space/post/friend-link-circle.html">基于hexo的友链朋友圈 Beta1.0</a></td></tr><tr><td style="text-align:left">冰老师编写的前端项目</td><td style="text-align:left"><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/Zfour/Butterfly-friend-poor-html"><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://github-readme-stats.vercel.app/api/pin/?username=Zfour&repo=Butterfly-friend-poor-html&show_owner=true"/></a></td></tr></tbody></table></div>              </div>            </details><h1 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h1><div class="tip cogs faa-horizontal animated"><p><strong>由于本教程涉及的所有修改对缩进格式等有严格要求，担心自己控制不好的可以直接下载静态资源。参照教程进行修改。</strong></p></div><div class="btns rounded center">            <a class="button" href='https://wws.lanzous.com/iCIS2ln7hpi' title='下载资源文件'><i class='fas fa-download'></i>下载资源文件</a>          </div><div class="note info flat"><div class="hide-block"><button type="button" class="hide-button button--animated" style="">预览效果    </button><div class="hide-content"><p><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Friend-link-subscription-dfbba739.png" alt=""></p></div></div></div><h1 id="写在最前"><a href="#写在最前" class="headerlink" title="写在最前"></a>写在最前</h1><div class="tip cogs faa-horizontal animated"><p>本帖为对冰老师的友链朋友圈项目的前端配置方案进行主题插件化适配的应援帖，并不包括关键的后端配置内容。后端配置请参看冰老师的原帖<a href="https://zfe.space/post/friend-link-circle.html">基于hexo的友链朋友圈 Beta1.0</a>，本帖的内容对应原帖的<code>步骤四：配置 HEXO 页面</code>。考虑到冰老师的源项目也仍旧处于开发状态，故本帖也会尽可能的紧跟进度实时更新。</p></div><h1 id="魔改步骤"><a href="#魔改步骤" class="headerlink" title="魔改步骤"></a>魔改步骤</h1><details purple open><summary> 点击查看魔改正文 </summary>              <div class='content'>              <ol><li>新建<code>[Blogroot]\themes\butterfly\layout\includes\page\fcircle.pug</code>;<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#article-container</span></span><br><span class="line">  <span class="keyword">if</span> top_img === false</span><br><span class="line">    h1.page-title= page.title</span><br><span class="line">  <span class="keyword">if</span> theme.fcircle.enable</span><br><span class="line">    <span class="comment">#friend_link_circle</span></span><br><span class="line">      .article-sort-title 统计信息</span><br><span class="line">      .article-sort      </span><br><span class="line">        <span class="comment">#info_user_poor</span></span><br><span class="line">          .chart</span><br><span class="line">            span.friend_post_info_title 当前友链数:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;user_lenth&#125;&#125;个</span><br><span class="line">            br</span><br><span class="line">            span.friend_post_info_title 失败数:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;error&#125;&#125;个</span><br><span class="line">            br</span><br><span class="line">          .chart</span><br><span class="line">            span.friend_post_info_title 活跃友链数:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;unique_live_link&#125;&#125;个</span><br><span class="line">            br</span><br><span class="line">            span.friend_post_info_title 当前库存:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;listlenth&#125;&#125;篇</span><br><span class="line">            br</span><br><span class="line">          .chart</span><br><span class="line">            span.friend_post_info_title 今日更新:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;today_post&#125;&#125;篇</span><br><span class="line">            br</span><br><span class="line">            span.friend_post_info_title 最近更新:</span><br><span class="line">            span.friend_post_info_number &#123;&#123;last_update_time&#125;&#125;</span><br><span class="line">      div(v-<span class="keyword">for</span>=<span class="string">&#x27;datalist in datalist_slice&#x27;</span>)</span><br><span class="line">        .article-sort-title(v-<span class="keyword">if</span>=<span class="string">&#x27;datalist[2]-maxnumber&lt;0&#x27;</span>) &#123;&#123;datalist[<span class="number">0</span>]&#125;&#125;</span><br><span class="line">        .article-sort</span><br><span class="line">          .article-sort-item(v-<span class="keyword">if</span>=<span class="string">&#x27;item[6]-maxnumber&lt;0&#x27;</span> v-<span class="keyword">for</span>=<span class="string">&#x27;(item,i) in datalist[1]&#x27;</span>)</span><br><span class="line">            a.article-sort-item-img(:target=<span class="string">&#x27;opentype&#x27;</span> :href=<span class="string">&#x27;item[2]&#x27;</span> :title=<span class="string">&#x27;item[0]&#x27;</span>)</span><br><span class="line">              img.entered.loaded(onerror=`this.onerror=null;this.src=<span class="string">&#x27;` + url_for(theme.error_img.flink) + `&#x27;</span>` data-ll-status=<span class="string">&#x27;loaded&#x27;</span> :src=<span class="string">&#x27;item[4]&#x27;</span>)</span><br><span class="line">            .article-sort-item-info</span><br><span class="line">              .article-sort-item-time</span><br><span class="line">                i.far.fa-user</span><br><span class="line">                span &#123;&#123;item[<span class="number">3</span>]&#125;&#125;</span><br><span class="line">                .friend_post_time</span><br><span class="line">                  i.far.fa-calendar-alt</span><br><span class="line">                  time.post-meta-date-created(:datetime=<span class="string">&#x27;item[1]&#x27;</span> :title=<span class="string">&#x27;item[1]&#x27;</span>) &#123;&#123;item[<span class="number">1</span>]&#125;&#125;</span><br><span class="line">              a.article-sort-item-title(:target=<span class="string">&#x27;opentype&#x27;</span> :href=<span class="string">&#x27;item[2]&#x27;</span> :title=<span class="string">&#x27;item[0]&#x27;</span>) &#123;&#123;item[<span class="number">0</span>]&#125;&#125;</span><br><span class="line">      div(style=<span class="string">&#x27;text-align: center&#x27;</span>)</span><br><span class="line">        button.load_button(v-<span class="keyword">if</span>=<span class="string">&#x27;loadmore_display&#x27;</span> type=<span class="string">&#x27;button&#x27;</span> @click=<span class="string">&#x27;addmaxnumber()&#x27;</span>) 加载更多...</span><br><span class="line">      script.</span><br><span class="line">        requests_url = <span class="string">&#x27;!&#123;url_for(theme.fcircle.apiurl)&#125;&#x27;</span></span><br><span class="line">      script(defer data-pjax src=url_for(theme.CDN.fcircle))</span><br><span class="line">  != page.content</span><br></pre></td></tr></table></figure></li><li>新建<code>[Blogroot]\themes\butterfly\source\css\_page\fcircle.styl</code>,<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> hexo-config(<span class="string">&#x27;fcircle.enable&#x27;</span>)</span><br><span class="line">  #info_user_poor</span><br><span class="line">    <span class="attribute">display</span> flex</span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">2px</span></span><br><span class="line">  .friend_post_info_title</span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line"></span><br><span class="line">  .friend_post_info_number</span><br><span class="line">    <span class="attribute">float</span> right</span><br><span class="line"></span><br><span class="line">  .chart</span><br><span class="line">    <span class="attribute">align-items</span> flex-start</span><br><span class="line">    <span class="attribute">flex</span> <span class="number">1</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">100px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">60px</span></span><br><span class="line">    <span class="attribute">margin</span> <span class="number">20px</span> <span class="number">0px</span></span><br><span class="line">    span</span><br><span class="line">      <span class="attribute">width</span> <span class="number">120px</span></span><br><span class="line">      <span class="attribute">white-space</span> nowrap</span><br><span class="line">      <span class="attribute">overflow</span> hidden</span><br><span class="line">      <span class="attribute">text-overflow</span> ellipsis</span><br><span class="line"></span><br><span class="line">  .article-sort-item-time</span><br><span class="line">    span</span><br><span class="line">      <span class="attribute">padding-left</span> <span class="number">10px</span></span><br><span class="line">      <span class="attribute">padding-right</span> <span class="number">10px</span></span><br><span class="line">  <span class="selector-tag">a</span>.article-sort-item-title</span><br><span class="line">    -webkit-line-clamp: <span class="number">1</span></span><br><span class="line">  .load_button</span><br><span class="line">    -webkit-<span class="attribute">transition-duration</span> <span class="number">0.4s</span></span><br><span class="line">    <span class="attribute">transition-duration</span> <span class="number">0.4s</span></span><br><span class="line">    <span class="attribute">text-align</span> center</span><br><span class="line">    <span class="attribute">border</span> <span class="number">1px</span> solid <span class="number">#ededed</span></span><br><span class="line">    border-radius .3em</span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">background</span> transparent</span><br><span class="line">    <span class="attribute">color</span> <span class="number">#555</span></span><br><span class="line">    padding .5em 1.25em</span><br><span class="line">    &amp;:hover</span><br><span class="line">      <span class="attribute">color</span> <span class="number">#3090e4</span></span><br><span class="line">      <span class="attribute">border-color</span> <span class="number">#3090e4</span></span><br><span class="line"></span><br><span class="line">  @media screen and (<span class="attribute">min-width</span>: <span class="number">500px</span>)</span><br><span class="line">    .friend_post_time</span><br><span class="line">      <span class="attribute">float</span> right</span><br><span class="line"></span><br><span class="line">  @media screen and (<span class="attribute">max-width</span>: <span class="number">500px</span>)</span><br><span class="line">    #info_user_poor</span><br><span class="line">      <span class="attribute">padding</span> <span class="number">10px</span></span><br><span class="line">      <span class="attribute">flex-direction</span> column</span><br><span class="line">      <span class="attribute">max-height</span> <span class="number">200px</span></span><br><span class="line">    .chart</span><br><span class="line">      <span class="attribute">flex</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">160px</span></span><br><span class="line">      <span class="attribute">margin</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></li><li>新建<code>[Blogroot]\themes\butterfly\source\js\fcircle.js</code>,这是处理友链数据的脚本：<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> friend_link_circle = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">&#x27;#friend_link_circle&#x27;</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        datalist: [],</span><br><span class="line">        datalist_slice:[],</span><br><span class="line">        maxnumber:<span class="number">20</span>,</span><br><span class="line">        addnumber:<span class="number">10</span>,</span><br><span class="line">        display:<span class="literal">true</span>,</span><br><span class="line">        loadmore_display:<span class="literal">false</span>,</span><br><span class="line">        listlenth:<span class="number">0</span>,</span><br><span class="line">        today_post:<span class="number">0</span>,</span><br><span class="line">        last_update_time:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        user_lenth:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        error:<span class="number">0</span>,</span><br><span class="line">        unique_live_link:<span class="number">0</span>,</span><br><span class="line">        opentype:<span class="string">&#x27;_blank&#x27;</span>  <span class="comment">//&#x27;_blank&#x27;打开新标签,&#x27;_self&#x27;本窗口打开</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        unique (arr) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br><span class="line">        &#125;,</span><br><span class="line">        formatDate(strDate) &#123;</span><br><span class="line">            <span class="keyword">try</span>&#123;</span><br><span class="line">                <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">Date</span>.parse(strDate.replace(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>)));</span><br><span class="line">                <span class="keyword">let</span> gettimeoffset = <span class="number">0</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">new</span> <span class="built_in">Date</span>().getTimezoneOffset())&#123;</span><br><span class="line">                    gettimeoffset = <span class="keyword">new</span> <span class="built_in">Date</span>().getTimezoneOffset();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    gettimeoffset = <span class="number">8</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">let</span> timeoffset = gettimeoffset * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line">                <span class="keyword">let</span> len = date.getTime();</span><br><span class="line">                <span class="keyword">let</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(len - timeoffset);</span><br><span class="line">                <span class="keyword">let</span> sec = date2.getSeconds().toString();</span><br><span class="line">                <span class="keyword">let</span> min =  date2.getMinutes().toString();</span><br><span class="line">                <span class="keyword">if</span> (sec.length === <span class="number">1</span>) &#123;</span><br><span class="line">                    sec = <span class="string">&quot;0&quot;</span> + sec;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (min.length === <span class="number">1</span>) &#123;</span><br><span class="line">                    min = <span class="string">&quot;0&quot;</span> + min;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> date2.getFullYear().toString() + <span class="string">&quot;/&quot;</span> + (date2.getMonth() + <span class="number">1</span>).toString() + <span class="string">&quot;/&quot;</span> + date2.getDate().toString() + <span class="string">&quot; &quot;</span> + date2.getHours().toString() + <span class="string">&quot;:&quot;</span> + min + <span class="string">&quot;:&quot;</span> + sec</span><br><span class="line">            &#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">return</span> <span class="string">&quot;&quot;</span>&#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        timezoon()&#123;</span><br><span class="line">            <span class="keyword">let</span> time = <span class="built_in">this</span>.datalist_slice[<span class="number">0</span>][<span class="number">1</span>][<span class="number">0</span>][<span class="number">5</span>];</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.formatDate(time)</span><br><span class="line">        &#125;,</span><br><span class="line">        todaypost()&#123;</span><br><span class="line">            <span class="keyword">let</span> date= <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">            <span class="keyword">let</span> year = date.getFullYear();</span><br><span class="line">            <span class="keyword">let</span> month =(date.getMonth() + <span class="number">1</span>).toString();</span><br><span class="line">            <span class="keyword">let</span> day = (date.getDate()).toString();</span><br><span class="line">            <span class="keyword">if</span> (month.length === <span class="number">1</span>) &#123;</span><br><span class="line">                month = <span class="string">&quot;0&quot;</span> + month;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (day.length === <span class="number">1</span>) &#123;</span><br><span class="line">                day = <span class="string">&quot;0&quot;</span> + day;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>  year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day</span><br><span class="line">        &#125;,</span><br><span class="line">        addmaxnumber()&#123;</span><br><span class="line">            <span class="built_in">this</span>.maxnumber = <span class="built_in">this</span>.maxnumber + <span class="built_in">this</span>.addnumber;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">this</span>.maxnumber &gt;= <span class="built_in">this</span>.listlenth)&#123;</span><br><span class="line">                <span class="built_in">this</span>.loadmore_display=<span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        slice(data)&#123;</span><br><span class="line">            <span class="keyword">let</span> monthlist=[];</span><br><span class="line">            <span class="keyword">let</span> datalist=[];</span><br><span class="line">            <span class="keyword">let</span> data_slice = data;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">in</span> data_slice) &#123;</span><br><span class="line">                data_slice[item].push(item);</span><br><span class="line">                <span class="keyword">if</span> (data_slice[item][<span class="number">1</span>].lenth !== <span class="number">10</span>) &#123;</span><br><span class="line">                    <span class="keyword">let</span> list = data_slice[item][<span class="number">1</span>].split(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">                        <span class="keyword">if</span> (list[<span class="number">1</span>].length &lt; <span class="number">2</span>)&#123;</span><br><span class="line">                            list[<span class="number">1</span>]=<span class="string">&quot;0&quot;</span> + list[<span class="number">1</span>]</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (list[<span class="number">2</span>].length &lt; <span class="number">2</span>)&#123;</span><br><span class="line">                            list[<span class="number">2</span>]=<span class="string">&quot;0&quot;</span> + list[<span class="number">2</span>]</span><br><span class="line">                        &#125;</span><br><span class="line">                    data_slice[item][<span class="number">1</span>] = list.join(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">let</span> month=data_slice[item][<span class="number">1</span>].slice(<span class="number">0</span>,<span class="number">7</span>);</span><br><span class="line">                <span class="keyword">if</span>(monthlist.indexOf(month) !== <span class="number">-1</span>)&#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(month);</span><br><span class="line">                    datalist[monthlist.length<span class="number">-1</span>][<span class="number">1</span>].push(data_slice[item]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    monthlist.push(month);</span><br><span class="line">                    datalist.push([month,[data_slice[item]]]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">let</span> mounthgroup  <span class="keyword">of</span> datalist)&#123;</span><br><span class="line">                mounthgroup.push(mounthgroup[<span class="number">1</span>][<span class="number">0</span>][<span class="number">6</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">console</span>.log(datalist);</span><br><span class="line">            <span class="keyword">return</span> datalist</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        fetch(requests_url).then(</span><br><span class="line">            data =&gt; data.json()</span><br><span class="line">    ).then(</span><br><span class="line">            data =&gt; &#123;</span><br><span class="line">                <span class="keyword">let</span> today = <span class="built_in">this</span>.todaypost();</span><br><span class="line">                <span class="keyword">let</span> Datetody = <span class="keyword">new</span> <span class="built_in">Date</span>(today);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> item = <span class="number">0</span>; item &lt;data[<span class="number">1</span>].length ;item++)&#123;</span><br><span class="line">                    <span class="keyword">let</span> Datedate = <span class="keyword">new</span> <span class="built_in">Date</span>(data[<span class="number">1</span>][item][<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">if</span> (Datedate&gt;Datetody)&#123;</span><br><span class="line">                        data[<span class="number">1</span>].splice(item --, <span class="number">1</span>);</span><br><span class="line">                        <span class="built_in">console</span>.log(<span class="string">&#x27;穿越了&#x27;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">this</span>.datalist = data[<span class="number">1</span>];</span><br><span class="line">                <span class="built_in">this</span>.listlenth = data[<span class="number">1</span>].length;</span><br><span class="line">                <span class="built_in">this</span>.user_lenth = data[<span class="number">0</span>].length;</span><br><span class="line">                <span class="built_in">this</span>.datalist_slice = <span class="built_in">this</span>.slice(data[<span class="number">1</span>]);</span><br><span class="line">                <span class="built_in">this</span>.last_update_time =<span class="built_in">this</span>.timezoon();</span><br><span class="line">                <span class="built_in">this</span>.loadmore_display = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">let</span> link_list=[];</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> data[<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="keyword">if</span> (item[<span class="number">1</span>] === today )&#123;</span><br><span class="line">                        <span class="built_in">this</span>.today_post +=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    link_list.push(item[<span class="number">3</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">let</span> arr = <span class="built_in">this</span>.unique(link_list);</span><br><span class="line">                <span class="built_in">this</span>.unique_live_link = arr.length;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> data[<span class="number">0</span>])&#123;</span><br><span class="line">                    <span class="keyword">if</span> (item[<span class="number">3</span>] === <span class="string">&#x27;true&#x27;</span> )&#123;</span><br><span class="line">                        <span class="built_in">this</span>.error +=<span class="number">1</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>修改<code>[Blogroot]\themes\butterfly\layout\page.pug</code>,添加朋友圈页面的选项：<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">  block content</span><br><span class="line">    #page</span><br><span class="line">      case page.type</span><br><span class="line">        when &#x27;tags&#x27;</span><br><span class="line">          include includes/page/tags.pug</span><br><span class="line">        when &#x27;link&#x27;</span><br><span class="line">          include includes/page/flink.pug</span><br><span class="line">        when &#x27;categories&#x27;</span><br><span class="line">          include includes/page/categories.pug</span><br><span class="line">        when &#x27;artitalk&#x27;</span><br><span class="line">          include includes/page/artitalk.pug</span><br><span class="line"><span class="addition">+       when &#x27;fcircle&#x27;</span></span><br><span class="line"><span class="addition">+         include includes/page/fcircle.pug</span></span><br><span class="line">        default</span><br><span class="line">          include includes/page/default-page.pug</span><br><span class="line"></span><br><span class="line">      if page.comments !== false &amp;&amp; theme.comments &amp;&amp; theme.comments.use</span><br><span class="line">        - var commentsJsLoad = true</span><br><span class="line">        !=partial(&#x27;includes/third-party/comments/index&#x27;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure></li><li>修改<code>[Blogroot]\themes\butterfly\layout\includes\additional-js.pug</code>,添加<code>vue.js</code>依赖的配置项,<code>butterfly_v3.4.0+</code>移除了<code>jquery</code>，所以没有<code>script(src=url_for(theme.CDN.jquery))</code>这一行。<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  div</span><br><span class="line">    script(src=url_for(theme.CDN.utils))</span><br><span class="line">    script(src=url_for(theme.CDN.main))</span><br><span class="line"><span class="addition">+   script(src=url_for(theme.CDN.vue))</span></span><br><span class="line">    if theme.translate.enable</span><br><span class="line">      script(src=url_for(theme.CDN.translate))</span><br></pre></td></tr></table></figure></li><li>修改<code>[Blogroot]\_config.butterfly.yml</code>,添加友链页面菜单栏，CDN链接和配置项：<ul><li>添加菜单栏<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  menu:</span><br><span class="line">    博客: / || fas fa-home</span><br><span class="line">    时间轴: /archives/ || fas fa-archive</span><br><span class="line">    标签: /tags/ || fas fa-tags</span><br><span class="line">    分类: /categories/ || fas fa-folder-open</span><br><span class="line"><span class="addition">+   朋友圈: /fcircle/ || fa fa-puzzle-piece</span></span><br><span class="line">    友人帐: /link/ || fas fa-link</span><br><span class="line">    留言板: /comments/ || fas fa-comments</span><br></pre></td></tr></table></figure></li><li>添加CDN配置项：<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: https://cdn.jsdelivr.net/gh/Akilarlxh/Akilarlxh.github.io@bf_3.6.2_1/js/main.js</span><br><span class="line">    utils: https://cdn.jsdelivr.net/gh/Akilarlxh/Akilarlxh.github.io@bf_3.6.2_1/js/utils.js</span><br><span class="line"><span class="addition">+   vue: https://cdn.jsdelivr.net/npm/vue@2.6.11  # vue.js依赖</span></span><br><span class="line"><span class="addition">+   fcircle: /js/fcircle.js # 友链朋友圈</span></span><br></pre></td></tr></table></figure></li><li>添加配置项：<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#友链朋友圈</span></span><br><span class="line"><span class="attr">fcircle:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关友链</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">https://hexo-circle-of-friends-api.vercel.app/api</span></span><br><span class="line">  <span class="comment"># 改为冰老师原帖步骤三：配置 vercel api中获取的api链接</span></span><br></pre></td></tr></table></figure></li></ul></li><li>使用指令生成友链页面,并添加样式<ul><li>在<code>[Blogroot]</code>路径下打开终端，运行以下指令生成朋友圈页面：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page fcircle</span><br></pre></td></tr></table></figure></li><li>打开刚刚生成的朋友圈页面<code>[Blogroot]\source\fcircle\index.md</code>,添加页面类型，以引入友链朋友圈：<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  ---</span><br><span class="line">    title: Akilarの朋友圈</span><br><span class="line">    date: 2021-02-11 18:09:00</span><br><span class="line"><span class="addition">+   type: &quot;fcircle&quot;</span></span><br><span class="line">    comments: &quot;true&quot;</span><br><span class="line">  ---</span><br></pre></td></tr></table></figure></li></ul></li><li>运行<code>hexo clean</code> 和<code>hexo generate</code>以及<code>hexo server</code>三件套以后就可以看到友链预览了。</li></ol>              </div>            </details><h1 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h1><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>前端配置插件化</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>重写统计部分UI</p>            </div>]]></content>
    
    
    <summary type="html">应援冰老师的友链朋友圈项目，提供插件化的Butterfly主题配置</summary>
    
    
    
    <category term="🍡Akilarの糖葫芦" scheme="https://akilar.top/categories/%F0%9F%8D%A1Akilar%E3%81%AE%E7%B3%96%E8%91%AB%E8%8A%A6/"/>
    
    
    <category term="📁Hexo" scheme="https://akilar.top/tags/%F0%9F%93%81Hexo/"/>
    
    <category term="🦋Butterfly" scheme="https://akilar.top/tags/%F0%9F%A6%8BButterfly/"/>
    
    <category term="🧊Ice-🍬Candy" scheme="https://akilar.top/tags/%F0%9F%A7%8AIce-%F0%9F%8D%ACCandy/"/>
    
  </entry>
  
  <entry>
    <title>Native JS Timer</title>
    <link href="https://akilar.top/posts/b941af/"/>
    <id>https://akilar.top/posts/b941af/</id>
    <published>2021-02-08T16:15:42.000Z</published>
    <updated>2021-02-08T16:15:42.000Z</updated>
    
    <content type="html"><![CDATA[<details cyan><summary> 点击查看更新记录 </summary>              <div class='content'>              <div class="timeline"><p class='p h2'>更新记录</p><div class="timenode"><div class="meta"><p><p>2021-02-08:稳定版v1.0</p></p></div><div class="body"><ol><li>使用原生JS实现页脚计时器。</li><li>添加营业中，打烊了牌子。</li><li>添加夜间模式下呼吸灯效果。</li></ol></div></div></div>              </div>            </details><div class="note info flat"><div class="hide-block"><button type="button" class="hide-button button--animated" style="">预览效果    </button><div class="hide-content"><p><img src= "https://cdn.jsdelivr.net/gh/Akilarlxh/akilarlxh.github.io@v2.1/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/Akilarlxh/Picgo/assets/Native-JS-Timer-50daecfe.png" alt=""></p></div></div></div><h1 id="魔改步骤"><a href="#魔改步骤" class="headerlink" title="魔改步骤"></a>魔改步骤</h1><ol><li>新建<code>[Blogroot]\themes\butterfly\source\js\runtime.js</code>,此处用到了<code>shield.io</code>生成徽标，更多内容请参看站内教程：<a href="/posts/e87ad7f8/">博客添加github徽标方案</a>：<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> create_time = <span class="built_in">Math</span>.round(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2019-04-17 00:00:00&#x27;</span>).getTime() / <span class="number">1000</span>); <span class="comment">//在此行修改建站时间</span></span><br><span class="line">  <span class="keyword">let</span> timestamp = <span class="built_in">Math</span>.round((<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()) / <span class="number">1000</span>);</span><br><span class="line">  <span class="keyword">let</span> second = timestamp - create_time;</span><br><span class="line">  <span class="keyword">let</span> time = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">//格式规范化，个位数前面加0</span></span><br><span class="line">  <span class="keyword">var</span> nol = <span class="function"><span class="keyword">function</span>(<span class="params">h</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> h&gt;<span class="number">9</span>?h:<span class="string">&#x27;0&#x27;</span>+h;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (second &gt;= <span class="number">365</span> * <span class="number">24</span> * <span class="number">3600</span>) &#123;</span><br><span class="line">    time[<span class="number">0</span>] = <span class="built_in">parseInt</span>(second / (<span class="number">365</span> * <span class="number">24</span> * <span class="number">3600</span>));</span><br><span class="line">    second %= <span class="number">365</span> * <span class="number">24</span> * <span class="number">3600</span>;</span><br><span class="line">  &#125;<span class="comment">//年</span></span><br><span class="line">  <span class="keyword">if</span> (second &gt;= <span class="number">24</span> * <span class="number">3600</span>) &#123;</span><br><span class="line">    time[<span class="number">1</span>] = <span class="built_in">parseInt</span>(second / (<span class="number">24</span> * <span class="number">3600</span>));</span><br><span class="line">    second %= <span class="number">24</span> * <span class="number">3600</span>;</span><br><span class="line">  &#125;<span class="comment">//天</span></span><br><span class="line">  <span class="keyword">if</span> (second &gt;= <span class="number">3600</span>) &#123;</span><br><span class="line">    time[<span class="number">2</span>] = nol(<span class="built_in">parseInt</span>(second / <span class="number">3600</span>));</span><br><span class="line">    second %= <span class="number">3600</span>;</span><br><span class="line">  &#125;<span class="comment">//时</span></span><br><span class="line">  <span class="keyword">if</span> (second &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">    time[<span class="number">3</span>] = nol(<span class="built_in">parseInt</span>(second / <span class="number">60</span>));</span><br><span class="line">    second %= <span class="number">60</span>;</span><br><span class="line">  &#125;<span class="comment">//分</span></span><br><span class="line">  <span class="keyword">if</span> (second &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    time[<span class="number">4</span>] = nol(second);</span><br><span class="line">  &#125;<span class="comment">//秒</span></span><br><span class="line">  <span class="comment">//早上7点到晚上10点营业</span></span><br><span class="line">  <span class="keyword">if</span> ((<span class="built_in">Number</span>(time[<span class="number">2</span>])&lt;<span class="number">22</span>) &amp;&amp; (<span class="built_in">Number</span>(time[<span class="number">2</span>])&gt;<span class="number">7</span>))&#123;</span><br><span class="line">    currentTimeHtml =<span class="string">&quot;&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://img.shields.io/badge/糖果屋-营业中-6adea8?style=social&amp;logo=cakephp&#x27; title=&#x27;距离百年老店也就差不到一百年~&#x27;&gt;&lt;div id=&#x27;runtime&#x27;&gt;&quot;</span> + time[<span class="number">0</span>] + <span class="string">&#x27; YEAR &#x27;</span> + time[<span class="number">1</span>] + <span class="string">&#x27; DAYS &#x27;</span> + time[<span class="number">2</span>] + <span class="string">&#x27; : &#x27;</span> + time[<span class="number">3</span>] + <span class="string">&#x27; : &#x27;</span> + time[<span class="number">4</span>] + <span class="string">&#x27;&lt;/div&gt;&#x27;</span>;</span><br><span class="line">  &#125; <span class="comment">//徽标内容参考站内教程</span></span><br><span class="line">  <span class="comment">//其余时间打烊</span></span><br><span class="line">  <span class="keyword">else</span>&#123;</span><br><span class="line">    currentTimeHtml =<span class="string">&quot;&lt;img class=&#x27;boardsign&#x27; src=&#x27;https://img.shields.io/badge/糖果屋-打烊了-6adea8?style=social&amp;logo=coffeescript&#x27; title=&#x27;这个点了应该去睡觉啦，熬夜对身体不好哦&#x27;&gt;&lt;div id=&#x27;runtime&#x27;&gt;&quot;</span> + time[<span class="number">0</span>] + <span class="string">&#x27; YEAR &#x27;</span> + time[<span class="number">1</span>] + <span class="string">&#x27; DAYS &#x27;</span> + time[<span class="number">2</span>] + <span class="string">&#x27; : &#x27;</span> + time[<span class="number">3</span>] + <span class="string">&#x27; : &#x27;</span> + time[<span class="number">4</span>] + <span class="string">&#x27;&lt;/div&gt;&#x27;</span>; <span class="comment">//徽标内容参考站内教程</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//覆写挂载标签的内容</span></span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">&quot;workboard&quot;</span>).innerHTML = currentTimeHtml;</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure></li><li>修改<code>[Blogroot]\themes\butterfly\layout\includes\footer.pug</code>,添加计时器的挂载标签：<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  if theme.footer.copyright</span><br><span class="line">    .framework-info</span><br><span class="line">      span= _p(&#x27;footer.framework&#x27;) + &#x27; &#x27;</span><br><span class="line">      a(href=&#x27;https://hexo.io&#x27;)= &#x27;Hexo&#x27;</span><br><span class="line">      span.footer-separator |</span><br><span class="line">      span= _p(&#x27;footer.theme&#x27;) + &#x27; &#x27;</span><br><span class="line">      a(href=&#x27;https://github.com/jerryc127/hexo-theme-butterfly&#x27;)= &#x27;Butterfly&#x27;</span><br><span class="line">  if theme.footer.custom_text</span><br><span class="line">    .footer_custom_text!=`$&#123;theme.footer.custom_text&#125;`</span><br><span class="line"><span class="addition">+ #workboard</span></span><br><span class="line"><span class="addition">+ script(async src=url_for(theme.CDN.runtime))</span></span><br></pre></td></tr></table></figure></li><li>新建<code>[Blogroot]\themes\butterfly\source\css\_layout\runtime.styl</code>,<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*电子钟字体*/</span></span><br><span class="line">@font-face</span><br><span class="line">  <span class="attribute">font-family</span> <span class="string">&#x27;UnidreamLED&#x27;</span></span><br><span class="line">  src url(<span class="string">&#x27;https://cdn.jsdelivr.net/gh/Akilarlxh/Akilarlxh.github.io@v3.3.3_3/clock/fonts/UnidreamLED.ttf&#x27;</span>)</span><br><span class="line">  <span class="attribute">font</span>-display swap</span><br><span class="line"><span class="comment">//页脚计时器</span></span><br><span class="line">div#runtime</span><br><span class="line">  <span class="attribute">width</span> <span class="number">180px</span></span><br><span class="line">  <span class="attribute">margin</span> auto</span><br><span class="line">  <span class="attribute">color</span> white</span><br><span class="line">  <span class="attribute">padding</span>-inline <span class="number">5px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">background-color</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.7</span>)</span><br><span class="line">  <span class="attribute">font-family</span> <span class="string">&#x27;UnidreamLED&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 夜间全局透明度</span></span><br><span class="line">[data-theme=<span class="string">&quot;dark&quot;</span>]</span><br><span class="line">  div#runtime</span><br><span class="line">      <span class="attribute">color</span> rgb(<span class="number">40</span>, <span class="number">180</span>, <span class="number">200</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgba(<span class="number">28</span>, <span class="number">69</span>, <span class="number">218</span>, <span class="number">0.71</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">@keyframes flashlight</span><br><span class="line">  from</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">  to</span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br></pre></td></tr></table></figure></li><li>修改<code>_config.butterfly.yml</code>,添加CDN链接：<figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: /js/main.js</span><br><span class="line">    utils: /js/utils.js</span><br><span class="line">    # 页脚计时器</span><br><span class="line"><span class="addition">+   runtime: /js/runtime.js</span></span><br></pre></td></tr></table></figure><h1 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h1><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>夜间模式适配</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>原生js实现</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>添加营业中，打烊了牌子</p>            </div></li></ol>]]></content>
    
    
    <summary type="html">使用原生JS实现页脚计时器，带营业中和打烊牌子。</summary>
    
    
    
    <category term="🍡Akilarの糖葫芦" scheme="https://akilar.top/categories/%F0%9F%8D%A1Akilar%E3%81%AE%E7%B3%96%E8%91%AB%E8%8A%A6/"/>
    
    
    <category term="📁Hexo" scheme="https://akilar.top/tags/%F0%9F%93%81Hexo/"/>
    
    <category term="🦋Butterfly" scheme="https://akilar.top/tags/%F0%9F%A6%8BButterfly/"/>
    
  </entry>
  
</feed>
